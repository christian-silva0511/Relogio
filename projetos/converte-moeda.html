<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exerc√≠cio 3</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="exercicio3">
    <section>
        <div>           
            <input type="number" name="real" id="real" placeholder="Digite o valor em reais">
            <button onclick="transformar()">Verificar em dolar</button>
        </div>
        <div id="resultado">
        </div>
    </section>

    <script>       
        async function transformar() {
            const realInput = document.getElementById('real');
            const reais = Number(realInput.value);
            const resultado = document.getElementById('resultado');

        if (isNaN(reais) || reais <= 0) {
            resultado.innerHTML = 'Digite um valor v√°lido em reais.';
            return;
        }

        try {
            const key = '8a07593fa672fd351a62991468a3448730928c3469a9f25a083be8e461268da8';
            const response = await fetch(`https://economia.awesomeapi.com.br/json/last/USD-BRL?token=${key}`);
            const data = await response.json();
            const cotacao = parseFloat(data.USDBRL.bid);

            const valorConvertido = (reais / cotacao).toFixed(2);
            resultado.innerHTML = `üíµ R$${reais.toFixed(2)} equivalem a US$${valorConvertido} (cota√ß√£o: ${cotacao.toFixed(2)})`;
        } catch (error) {
            resultado.innerHTML = 'Erro ao obter a cota√ß√£o. Tente novamente mais tarde.';
            console.error(error);
        }
        }
    </script>    
</body>
</html>